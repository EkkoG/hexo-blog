language: node_js
node_js:
- '0.12'
branches:
  only:
  - master
before_install:
- npm install -g hexo-cli
install:
- npm install
script:
- git submodule init
- git submodule update
- hexo generate
after_success:
- git config --global user.name "cielpy"
- git config --global user.email "beijiu572@gmail.com"
- sed -i'' "/^ *repo/s~github\.com~${GH_TOKEN}@github.com~" _config.yml
- hexo deploy
env:
  global:
    secure: wtC7FVEmwzAI19jugHHe/WOzPhBNG8zS1urDAxPRCgl3id7IqYkgEa/UQh+hIBPjlb4BXE5k/DJd1h0L6DFDImQ5bhA2i1dXfTPBwhySg4nQNdZPb9gfIbIBFhDqHAi3liqK4Mjwdr2dYy45cZoz8IGEiuIZlKZZ60+NgGWbKPuocNRhX8x/Glw/d+NUDUZa6kVS2qaNK7CD0TlbzyCQMkryOg3i4N/8vLFFpgQigRhQb+XTIsUfcM4Y+HvIgwV18k+WjYD2Iv0SCWNqzIIenZVL33HLe/JnIRdK9RanRtsiki8rTyawxlQMEqMq3cnbMzDn1KEyihdT95ACGy4mOqYeGBKU7Korwz3BOx9iJGmlXCMdPm78UnUxtb2h9VcaPy8Y5uUqtJha68DNyG67yf/Zg2H+5x/6U6pqV/xGTuCUzh8cxcHgYjoobgxwTONVEnCt+ej6Jt7XlBURYhSNPUDUzrhfzRcYghcsvJqWex8kJaKz4aZ92LbDW9X6ROR1SOiGX5vEP5xankJjtPG30xR3HbBPZa13ARBOrA6Sr2znqyEvcHtGT5WxTlEphiCuC/NNv68yoasPQ33ZFcbtIQJrI+pqWR2xaedZY54P/ZTcJOeeLN2X2V/w5eQ9fHhWrqNlYP7N04RzQn/ILqT3YM8dCj/H+KdBr09eJRWykF4=
